// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// managerConfigs.js
// ğŸ´ ğ›«ğ‘ˆğ‘…ğ›©ğ›®ğ›¥ â€” ğ›­ğ‘« ğŸ´
// Kurona ğŸ´ğƒğ›¯ğ• á¬ ğ›«ğ‘ˆğ‘…ğ›©ğ›®ğ›¥ğŸ´
// Gestion centralisÃ©e de la configuration du bot
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

import fs from "fs";
import path from "path";

const configPath = path.resolve("config.json");

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Chargement sÃ©curisÃ© de la configuration
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function loadConfig() {
  try {
    if (fs.existsSync(configPath)) {
      const data = JSON.parse(fs.readFileSync(configPath, "utf-8"));
      console.log("âœ… [Kurona MD] Configuration chargÃ©e avec succÃ¨s.");
      return data;
    } else {
      console.warn("âš ï¸ [Kurona MD] config.json introuvable. Utilisation d'une configuration par dÃ©faut.");
      return { users: {} };
    }
  } catch (error) {
    console.error("âŒ [Kurona MD] Erreur lors du chargement de la configuration :", error.message);
    return { users: {} };
  }
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Sauvegarde de la configuration
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function saveConfig(config) {
  try {
    fs.writeFileSync(configPath, JSON.stringify(config, null, 2));
    console.log("ğŸ’¾ [Kurona MD] Configuration sauvegardÃ©e avec succÃ¨s.");
  } catch (error) {
    console.error("âŒ [Kurona MD] Ã‰chec de la sauvegarde de la configuration :", error.message);
  }
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Objet dâ€™accÃ¨s direct
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const configManager = {
  config: loadConfig(),
  save() {
    saveConfig(this.config);
  }
};

export default configManager;
